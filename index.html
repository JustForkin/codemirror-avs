<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>codemirror-avs-mode</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.1/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.37.0/lib/codemirror.css">
  <link rel="stylesheet" href="theme.css">
</head>
<body>
  <div class="container">
    <div class="row">
      <div class="col-md">
        <h1 class="h3">codemirror-avs-mode</h1>
        <p>A mode for <a href="https://www.wikiwand.com/en/Advanced_Visualization_Studio">Winamp AVS</a> to use with <a href="https://codemirror.net/">CodeMirror</a>, the versatile text editor implemented in JavaScript for the browser.</p>

        <h2 class="h5">Example</h2>
        <p>Let's take a look at a Dynamic Movement. Feel free to edit the code in order to test the highlighter.</p>

        <p><strong>Frame</strong></p>
        <p><textarea class="codemirror">x1=x1+x1r;
y1=y1+y1r;
x2=x2+x2r;xm=sin(x2)/2;
y2=y2+y2r;ym=sin(y2)/2;
b1=b1*0.95;bm1=1/(20-b1);
b2=b2*0.95;bm2=1/(20-b2);</textarea></p>

        <p><strong>Beat</strong></p>
        <p><textarea class="codemirror">x1r=rand(20)/100-0.1;
x2r=rand(20)/100-0.1;
y1r=rand(20)/100-0.1;
y2r=rand(20)/100-0.1;
b1=rand(15);
b2=rand(15);</textarea></p>

        <p><strong>Pixel</strong></p>
        <p><textarea class="codemirror">y=y-0.01+abs(sin(x*(1.25+xm)+x1))*bm1;
x=x+sin(y*(1.25+ym)+y1)*bm2;</textarea></p>

        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.37.0/lib/codemirror.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.37.0/addon/edit/matchbrackets.js"></script>
    <script src="mode/avs.js"></script>
    <script>
      var editors = document.getElementsByClassName("codemirror");

      Object.keys(editors).forEach(function(i) {
        var cm = CodeMirror.fromTextArea(editors[i], {
          lineNumbers: true,
          matchBrackets: true,
          mode: "avs",
          theme: "bootstrap"
        });
      });
    </script>
  </body>
</html>

